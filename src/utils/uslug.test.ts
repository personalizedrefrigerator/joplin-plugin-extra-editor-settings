/**
 * Based on @joplin/fork-uslug
 * 
 * The original is Copyright (c) 2012 Jeremy Selier
 * 
 * MIT Licensed
 * 
 * You may find a copy of this license in the LICENSE file that should have been provided
 * to you with a copy of this software.
 */
import uslug from "./uslug";

const word0 = 'Î•Î»Î»Î·Î½Î¹ÎºÎ¬';
const word1 = [word0, word0].join('-');
const word2 = [word0, word0].join(' - ');

const tests: Array<[string, string]> = [
  ['', ''],
  ['The \u212B symbol invented by A. J. \u00C5ngstr\u00F6m (1814, L\u00F6gd\u00F6, \u2013 1874) denotes the length 10\u207B\u00B9\u2070 m.', 'the-Ã¥-symbol-invented-by-a-j-Ã¥ngstrÃ¶m-1814-lÃ¶gdÃ¶-1874-denotes-the-length-1010-m'],
  ['Ð‘Ñ‹ÑÑ‚Ñ€ÐµÐµ Ð¸ Ð»ÑƒÑ‡ÑˆÐµ!', 'Ð±Ñ‹ÑÑ‚Ñ€ÐµÐµ-Ð¸-Ð»ÑƒÑ‡ÑˆÐµ'],
  ['xx x  - "#$@ x', 'xx-x-x'],
  ['BÃ¤n...g (bang)', 'bÃ¤ng-bang'],
  [word0, word0.toLowerCase()],
  [word1, word1.toLowerCase()],
  [word2, word1.toLowerCase()],
  ['    a ', 'a'],
  ['tags/', 'tags'],
  ['y_u_no', 'y_u_no'],
  ['el-ni\xf1o', 'el-ni\xf1o'],
  ['xè¿', 'xè¿'],
  ['Ï§Îƒè’¬è“£', '\u03e7è’¬è“£'],
  ['Â¿x', 'x'],
  ['æ±‰è¯­/æ¼¢èªž', 'æ±‰è¯­æ¼¢èªž'],
  ['ÙØ§Ø±,Ø³ÙŠ', 'ÙØ§Ø±Ø³ÙŠ'],
  ['à¹€à¹à¹‚|à¹ƒà¹„', 'à¹€à¹à¹‚à¹ƒà¹„'],
  ['æ—¥æœ¬èªžãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒ†(ãƒ¼ã‚·ãƒ§ãƒ³)', 'æ—¥æœ¬èªžãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³'],
  ['ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹åï¼ã€‚ã€‚ã€‚', 'ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹å'],
  ['à¤¸à¤‚à¤¸à¤¦ à¤®à¥‡à¤‚ à¤•à¤¾à¤® à¤¨à¤¹à¥€à¤‚ à¤¤à¥‹ à¤µà¥‡à¤¤à¤¨ à¤•à¥à¤¯à¥‹à¤‚?', 'à¤¸à¤‚à¤¸à¤¦-à¤®à¥‡à¤‚-à¤•à¤¾à¤®-à¤¨à¤¹à¥€à¤‚-à¤¤à¥‹-à¤µà¥‡à¤¤à¤¨-à¤•à¥à¤¯à¥‹à¤‚'],
  ['à¹€à¸£à¹ˆà¸‡à¸£à¸±à¸” \'à¸›à¸£à¸±à¸šà¹€à¸‡à¸´à¸™à¹€à¸”à¸·à¸­à¸™à¸—à¹‰à¸­à¸‡à¸–à¸´à¹ˆà¸™ 1 à¸‚à¸±à¹‰à¸™\' à¸•à¸²à¸¡à¸¡à¸•à¸´ à¸„à¸£à¸¡.', 'à¹€à¸£à¹ˆà¸‡à¸£à¸±à¸”-à¸›à¸£à¸±à¸šà¹€à¸‡à¸´à¸™à¹€à¸”à¸·à¸­à¸™à¸—à¹‰à¸­à¸‡à¸–à¸´à¹ˆà¸™-1-à¸‚à¸±à¹‰à¸™-à¸•à¸²à¸¡à¸¡à¸•à¸´-à¸„à¸£à¸¡'],
  ['ã‚ªãƒãƒžå¤§çµ±é ˜ãŒç—…é™¢çˆ†æ’ƒã®èª¿æŸ»ã¸åŒæ„ã™ã‚‹ã‚ˆã†ã«ã€å”åŠ›ã—ã¦ãã ã•ã„ï¼', 'ã‚ªãƒãƒžå¤§çµ±é ˜ãŒç—…é™¢çˆ†æ’ƒã®èª¿æŸ»ã¸åŒæ„ã™ã‚‹ã‚ˆã†ã«-å”åŠ›ã—ã¦ãã ã•ã„'],
  ['ì¼ë³¸ì •ë¶€ ë²•ë¬´ëŒ€ì‹ (æ³•å‹™å¤§è‡£): ìš°ë¦¬ëŠ” ì¼ë³¸ ìž…ê´€ë²•ì˜ ìž¬ê²€í† ë¥¼ ìš”êµ¬í•œë‹¤!', 'ì¼ë³¸ì •ë¶€-ë²•ë¬´ëŒ€ì‹ æ³•å‹™å¤§è‡£-ìš°ë¦¬ëŠ”-ì¼ë³¸-ìž…ê´€ë²•ì˜-ìž¬ê²€í† ë¥¼-ìš”êµ¬í•œë‹¤'],
  ['ðŸ˜', 'grin'],
  ['ðŸ˜a', 'grina'],
  ['ðŸ¶ðŸ¶ðŸ¶ðŸ±', 'dogdogdogcat'],
];
describe('uslug', () => {
  it.each(tests)('should convert %s to %s', (input, expected) => {
    expect(uslug(input)).toBe(expected);
  });
  it('should support "allowedChars"', () => {
    expect(uslug('qbc,fe', { allowedChars: 'q' })).toBe('qbcfe');
  });
});